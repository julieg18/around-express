{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarProfilePopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","utils/api.js","components/App.js","serviceWorker.js","index.js","images/avatar-image.jpg"],"names":["Header","className","CurrentUserContext","React","createContext","Card","onCardDelete","onCardLike","onCardClick","card","userId","useContext","_id","link","name","likes","belongsToUser","owner","isLiked","some","user","onClick","alt","src","length","Main","cards","onEditAvatar","onEditProfile","onAddPlace","onDeleteCard","avatar","about","avatarImage","map","key","Footer","ImagePopup","onClose","isOpen","e","target","classList","contains","PopupWithForm","title","children","onSubmit","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","nameValidationMessage","setNameValidationMessage","descriptionValidationMessage","setDescriptionValidationMessage","isLoading","setIsLoading","isNameValid","setIsNameValid","isDescriptionValid","setIsDescriptionValid","CurrentUser","useEffect","currentUserName","preventDefault","then","htmlFor","onChange","input","value","validity","valid","validationMessage","defaultValue","type","id","minLength","maxLength","pattern","required","disabled","EditAvatarProfilePopup","onUpdateAvatar","avatarInput","useRef","isAvatarValid","setIsAvatarValid","avatarValidationMessage","setAvatarValidationMessage","isFormValid","setIsFormValid","current","ref","placeholder","AddPlacePopup","onCreatePlace","setLink","isLinkValid","setIsLinkValid","linkValidationMessage","setLinkValidationMessage","DeleteCardPopup","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","_checkServerResponse","catch","err","console","log","newUserInfo","method","body","JSON","stringify","newCardInfo","cardId","cardWasLiked","authorization","App","func","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isImagePopupOpen","setIsImagePopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","selectedCard","setSelectedCard","currentUser","setCurrentUser","setCards","handleEscPopupClose","closeAllPopups","window","removeEventListener","getUser","getInitialCards","initialCards","Provider","addEventListener","c","editCardLikes","newCard","newCards","editUserInfo","editUserAvatar","place","addCard","deleteCard","filter","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message","module","exports"],"mappings":"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","file":"static/js/main.d93af336.chunk.js","sourcesContent":["import React from 'react';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <div className=\"logo\"></div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext({});\r\n\r\nexport default CurrentUserContext;\r\n","import React, { useContext } from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ onCardDelete, onCardLike, onCardClick, card }) {\r\n  const { _id: userId } = useContext(CurrentUserContext);\r\n  const {\r\n    link,\r\n    name,\r\n    likes,\r\n    owner: { _id: cardOwnerId },\r\n  } = card;\r\n  const belongsToUser = cardOwnerId === userId;\r\n  const isLiked = card.likes.some((user) => user._id === userId);\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"element\">\r\n      <button\r\n        className={`button element__delete-button ${\r\n          !belongsToUser && 'element__delete-button_hidden'\r\n        }`}\r\n        onClick={handleDeleteClick}\r\n      ></button>\r\n      <img\r\n        className=\"element__image\"\r\n        alt={name}\r\n        src={link}\r\n        onClick={handleClick}\r\n      />\r\n      <div className=\"element__info\">\r\n        <p className=\"element__title\">{name}</p>\r\n        <button\r\n          onClick={handleLikeClick}\r\n          className={`button element__like-button ${\r\n            isLiked && 'element__like-button_active'\r\n          }`}\r\n        ></button>\r\n        <p className=\"element__likes-num\">{likes.length}</p>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React, { useContext } from 'react';\r\nimport Card from './Card';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport avatarImage from '../images/avatar-image.jpg';\r\n\r\nfunction Main({\r\n  cards,\r\n  onCardLike,\r\n  onEditAvatar,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onCardClick,\r\n  onDeleteCard,\r\n}) {\r\n  const { avatar, about, name } = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main>\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar\">\r\n          <img\r\n            src={avatar || avatarImage}\r\n            alt=\"avatar\"\r\n            className=\"profile__avatar-img\"\r\n          />\r\n          <button\r\n            className=\"profile__change-avatar-button\"\r\n            onClick={onEditAvatar}\r\n          ></button>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <p className=\"profile__name\">{name}</p>\r\n          <button\r\n            className=\"button profile__button profile__button_type_edit\"\r\n            onClick={onEditProfile}\r\n          ></button>\r\n          <p className=\"profile__job\">{about}</p>\r\n        </div>\r\n        <button\r\n          className=\"button profile__button profile__button_type_add\"\r\n          onClick={onAddPlace}\r\n        ></button>\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__list\">\r\n          {cards.map((card) => (\r\n            <Card\r\n              onCardDelete={onDeleteCard}\r\n              onCardLike={onCardLike}\r\n              onCardClick={onCardClick}\r\n              card={card}\r\n              key={card._id}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">Â© 2020 Around The U.S.</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction ImagePopup({ onClose, isOpen, card: { link, name } }) {\n  function checkIfPopupOverlayWasClicked(e) {\n    if (e.target.classList.contains('popup')) {\n      onClose();\n    }\n  }\n\n  return (\n    <div\n      onClick={checkIfPopupOverlayWasClicked}\n      className={`popup popup_content_picture ${isOpen && 'popup_opened'}`}\n    >\n      <div className=\"popup__container\">\n        <button\n          className=\"button popup__exit-button\"\n          onClick={onClose}\n        ></button>\n        <div className=\"picture\">\n          <img alt={name} src={link} className=\"picture__image\" />\n          <p className=\"picture__title\">{name}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from 'react';\r\n\r\nfunction PopupWithForm({ title, name, isOpen, children, onClose, onSubmit }) {\r\n  function checkIfPopupOverlayWasClicked(e) {\r\n    if (e.target.classList.contains('popup')) {\r\n      onClose();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      onClick={checkIfPopupOverlayWasClicked}\r\n      className={`popup popup_content_${name} ${isOpen && 'popup_opened'}`}\r\n    >\r\n      <div className=\"popup__container\">\r\n        <button\r\n          className=\"button popup__exit-button\"\r\n          onClick={onClose}\r\n        ></button>\r\n        <form onSubmit={onSubmit} className={`form form_type_${name}`}>\r\n          <h1 className=\"form__heading\">{title}</h1>\r\n          {children}\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nconst EditProfilePopup = ({ isOpen, onClose, onUpdateUser }) => {\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [nameValidationMessage, setNameValidationMessage] = useState('');\r\n  const [\r\n    descriptionValidationMessage,\r\n    setDescriptionValidationMessage,\r\n  ] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isNameValid, setIsNameValid] = useState(true);\r\n  const [isDescriptionValid, setIsDescriptionValid] = useState(true);\r\n  const CurrentUser = useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    const { name: currentUserName, about } = CurrentUser;\r\n    setDescription(about);\r\n    setName(currentUserName);\r\n  }, [CurrentUser]);\r\n\r\n  function handleNameInputChange(e) {\r\n    const input = e.target;\r\n    setName(input.value);\r\n    setIsNameValid(input.validity.valid);\r\n    setNameValidationMessage(input.validationMessage);\r\n  }\r\n\r\n  function handleDescriptionInputChange(e) {\r\n    const input = e.target;\r\n    setDescription(input.value);\r\n    setIsDescriptionValid(input.validity.valid);\r\n    setDescriptionValidationMessage(input.validationMessage);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    setIsLoading(true);\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    }).then(() => {\r\n      setIsLoading(false);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit-profile-form\"\r\n      title=\"Edit profile\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"form__label\" htmlFor=\"name-field\">\r\n        <input\r\n          onChange={handleNameInputChange}\r\n          defaultValue={name}\r\n          type=\"text\"\r\n          className={`form__field form__field_type_name ${\r\n            !isNameValid && 'form__field_type_error'\r\n          }`}\r\n          id=\"name-field\"\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          pattern=\"[a-zA-Z -]{1,}\"\r\n          required\r\n        />\r\n        <span\r\n          className={`form__field-error ${\r\n            !isNameValid && 'form__field-error_active'\r\n          }`}\r\n          id=\"name-field-error\"\r\n        >\r\n          {nameValidationMessage}\r\n        </span>\r\n      </label>\r\n      <label className=\"form__label\" htmlFor=\"job-field\">\r\n        <input\r\n          onChange={handleDescriptionInputChange}\r\n          defaultValue={description}\r\n          type=\"text\"\r\n          className={`form__field form__field_type_job ${\r\n            !isDescriptionValid && 'form__field_type_error'\r\n          }`}\r\n          id=\"job-field\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          required\r\n        />\r\n        <span\r\n          className={`form__field-error ${\r\n            !isDescriptionValid && 'form__field-error_active'\r\n          }`}\r\n          id=\"job-field-error\"\r\n        >\r\n          {descriptionValidationMessage}\r\n        </span>\r\n      </label>\r\n      <button\r\n        type=\"submit\"\r\n        className=\"form__submit-button form__submit-button_type_edit-profile\"\r\n        disabled={!isNameValid || !isDescriptionValid}\r\n      >\r\n        {isLoading ? 'Saving...' : 'Save'}\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n\r\nexport default EditProfilePopup;\r\n","import React, { useRef, useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarProfilePopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const avatarInput = useRef(null);\r\n  const [isAvatarValid, setIsAvatarValid] = useState(true);\r\n  const [avatarValidationMessage, setAvatarValidationMessage] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isFormValid, setIsFormValid] = useState(false);\r\n\r\n  function handleAvatarInputChange(e) {\r\n    const input = e.target;\r\n    setIsAvatarValid(input.validity.valid);\r\n    setAvatarValidationMessage(input.validationMessage);\r\n    setIsFormValid(input.validity.valid);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    setIsLoading(true);\r\n    onUpdateAvatar({\r\n      avatar: avatarInput.current.value,\r\n    }).then(() => {\r\n      setIsLoading(false);\r\n      avatarInput.current.value = '';\r\n      setIsFormValid(false);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"change-avatar-form\"\r\n      title=\"Change profile picture\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label htmlFor=\"avatar-img-field\" className=\"form__label\">\r\n        <input\r\n          ref={avatarInput}\r\n          placeholder=\"Image-link\"\r\n          type=\"url\"\r\n          className={`form__field form__field_type_avatar-img ${\r\n            !isAvatarValid && 'form__field_type_error'\r\n          }`}\r\n          id=\"avatar-img-field\"\r\n          onChange={handleAvatarInputChange}\r\n          required\r\n        />\r\n        <span\r\n          className={`form__field-error ${\r\n            !isAvatarValid && 'form__field-error_active'\r\n          }`}\r\n          id=\"avatar-img-field-error\"\r\n        >\r\n          {avatarValidationMessage}\r\n        </span>\r\n      </label>\r\n      <button\r\n        type=\"submit\"\r\n        className=\"form__submit-button form__submit-button_type_change-avatar\"\r\n        disabled={!isFormValid}\r\n      >\r\n        {isLoading ? 'Saving...' : 'Save'}\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarProfilePopup;\r\n","import React, { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onCreatePlace }) {\r\n  const [name, setName] = useState('');\r\n  const [isNameValid, setIsNameValid] = useState(true);\r\n  const [nameValidationMessage, setNameValidationMessage] = useState('');\r\n\r\n  const [link, setLink] = useState('');\r\n  const [isLinkValid, setIsLinkValid] = useState(true);\r\n  const [linkValidationMessage, setLinkValidationMessage] = useState('');\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  function handleTitleInputChange(e) {\r\n    const input = e.target;\r\n    setName(input.value);\r\n    setIsNameValid(input.validity.valid);\r\n    setNameValidationMessage(input.validationMessage);\r\n  }\r\n\r\n  function handleImgInputChange(e) {\r\n    const input = e.target;\r\n    setLink(input.value);\r\n    setIsLinkValid(input.validity.valid);\r\n    setLinkValidationMessage(input.validationMessage);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    setIsLoading(true);\r\n    onCreatePlace({ name, link })\r\n      .then(() => {\r\n        setName('');\r\n        setLink('');\r\n      })\r\n      .then(() => {\r\n        setIsLoading(false);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add-card-form\"\r\n      title=\"New place\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label htmlFor=\"title-field\" className=\"form__label\">\r\n        <input\r\n          onChange={handleTitleInputChange}\r\n          value={name}\r\n          placeholder=\"Title\"\r\n          type=\"text\"\r\n          className={`form__field form__field_type_title ${\r\n            !isNameValid && 'form__field_type_error'\r\n          }`}\r\n          id=\"title-field\"\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          required\r\n        />\r\n        <span\r\n          className={`form__field-error ${\r\n            !isNameValid && 'form__field-error_active'\r\n          }`}\r\n          id=\"title-field-error\"\r\n        >\r\n          {nameValidationMessage}\r\n        </span>\r\n      </label>\r\n      <label htmlFor=\"img-link-field\" className=\"form__label\">\r\n        <input\r\n          onChange={handleImgInputChange}\r\n          placeholder=\"Image-link\"\r\n          type=\"url\"\r\n          value={link}\r\n          className={`form__field form__field_type_img-link ${\r\n            !isLinkValid && 'form__field_type_error'\r\n          }`}\r\n          id=\"img-link-field\"\r\n          required\r\n        />\r\n        <span\r\n          className={`form__field-error ${\r\n            !isLinkValid && 'form__field-error_active'\r\n          }`}\r\n          id=\"img-link-field-error\"\r\n        >\r\n          {linkValidationMessage}\r\n        </span>\r\n      </label>\r\n      <button\r\n        type=\"submit\"\r\n        className=\"form__submit-button form__submit-button_type_add-card\"\r\n        disabled={\r\n          !isNameValid || !isLinkValid || name.length === 0 || link.length === 0\r\n        }\r\n      >\r\n        {isLoading ? 'Saving...' : 'Create'}\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React, { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction DeleteCardPopup({ isOpen, onClose, onDeleteCard }) {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n    onDeleteCard().then(() => {\r\n      setIsLoading(false);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"delete-cart-form\"\r\n      title=\"Are you sure?\"\r\n      onClose={onClose}\r\n      isOpen={isOpen}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <button className=\"form__submit-button form__submit-button_type_delete-card\">\r\n        {isLoading ? 'Saving...' : 'Yes'}\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default DeleteCardPopup;\r\n","class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  _checkServerResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n\r\n    return Promise.reject(`Err: ${res.status}`);\r\n  }\r\n\r\n  getUser() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers,\r\n    })\r\n      .then(this._checkServerResponse)\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: this._headers,\r\n    })\r\n      .then(this._checkServerResponse)\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  editUserInfo(newUserInfo) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify(newUserInfo),\r\n    })\r\n      .then(this._checkServerResponse)\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  editUserAvatar(avatar) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify(avatar),\r\n    })\r\n      .then(this._checkServerResponse)\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  addCard(newCardInfo) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify(newCardInfo),\r\n    })\r\n      .then(this._checkServerResponse)\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n      .then(this._checkServerResponse)\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  editCardLikes({ cardWasLiked, cardId }) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: cardWasLiked ? 'PUT' : 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n      .then(this._checkServerResponse)\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://around.nomoreparties.co/v1/group-1',\r\n  headers: {\r\n    authorization: 'b5addf89-e4e2-4334-ba86-da0986124fda',\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nexport default api;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarProfilePopup from './EditAvatarProfilePopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport DeleteCardPopup from './DeleteCardPopup';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport api from '../utils/api';\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\r\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n\r\n  const useMountEffect = (func) => useEffect(func, []);\r\n\r\n  useMountEffect(() => {\r\n    api.getUser().then((user) => {\r\n      setCurrentUser(user);\r\n    });\r\n\r\n    api.getInitialCards().then((initialCards) => {\r\n      setCards(initialCards);\r\n    });\r\n  });\r\n\r\n  function handleEscPopupClose(e) {\r\n    if (e.key === 'Escape') {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    window.addEventListener('keyup', handleEscPopupClose);\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    window.addEventListener('keyup', handleEscPopupClose);\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    window.addEventListener('keyup', handleEscPopupClose);\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    window.addEventListener('keyup', handleEscPopupClose);\r\n    setIsImagePopupOpen(true);\r\n  }\r\n\r\n  function handleDeleteCardClick(card) {\r\n    setSelectedCard(card);\r\n    window.addEventListener('keyup', handleEscPopupClose);\r\n    setIsDeleteCardPopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    window.removeEventListener('keyup', handleEscPopupClose);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsImagePopupOpen(false);\r\n    setIsDeleteCardPopupOpen(false);\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const cardWasLiked = !card.likes.some((c) => c._id === currentUser._id);\r\n\r\n    api.editCardLikes({ cardWasLiked, cardId: card._id }).then((newCard) => {\r\n      const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n      setCards(newCards);\r\n    });\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    return api.deleteCard(selectedCard._id).then(() => {\r\n      const newCards = cards.filter((c) => c._id !== selectedCard._id);\r\n      setCards(newCards);\r\n      closeAllPopups();\r\n    });\r\n  }\r\n\r\n  function handleUpdateUser(newUserInfo) {\r\n    return api.editUserInfo(newUserInfo).then((newUserInfo) => {\r\n      setCurrentUser(newUserInfo);\r\n      closeAllPopups();\r\n    });\r\n  }\r\n\r\n  function handleUpdateAvatar(avatar) {\r\n    return api.editUserAvatar(avatar).then((newUserInfo) => {\r\n      setCurrentUser(newUserInfo);\r\n      closeAllPopups();\r\n    });\r\n  }\r\n\r\n  function handleCreatePlace(place) {\r\n    return api.addCard(place).then((newCard) => {\r\n      setCards([newCard, ...cards]);\r\n      closeAllPopups();\r\n    });\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <Header />\r\n      <Main\r\n        cards={cards}\r\n        onEditAvatar={handleEditAvatarClick}\r\n        onEditProfile={handleEditProfileClick}\r\n        onAddPlace={handleAddPlaceClick}\r\n        onDeleteCard={handleDeleteCardClick}\r\n        onCardClick={handleCardClick}\r\n        onCardLike={handleCardLike}\r\n      />\r\n      <Footer />\r\n\r\n      <EditProfilePopup\r\n        isOpen={isEditProfilePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateUser={handleUpdateUser}\r\n      />\r\n\r\n      <EditAvatarProfilePopup\r\n        isOpen={isEditAvatarPopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateAvatar={handleUpdateAvatar}\r\n      />\r\n\r\n      <AddPlacePopup\r\n        isOpen={isAddPlacePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onCreatePlace={handleCreatePlace}\r\n      />\r\n\r\n      <ImagePopup\r\n        isOpen={isImagePopupOpen}\r\n        card={selectedCard}\r\n        onClose={closeAllPopups}\r\n      />\r\n\r\n      <DeleteCardPopup\r\n        isOpen={isDeleteCardPopupOpen}\r\n        onClose={closeAllPopups}\r\n        onDeleteCard={handleCardDelete}\r\n      />\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/avatar-image.256a3224.jpg\";"],"sourceRoot":""}